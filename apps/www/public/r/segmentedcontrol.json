{
  "name": "segmentedcontrol",
  "type": "registry:component",
  "dependencies": [
    "react",
    "react-dom",
    "@fragment_ui/ui"
  ],
  "files": [
    {
      "path": "components/ui/SegmentedControl.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\";\nimport clsx from \"clsx\";\n\nexport interface SegmentedControlOption {\n  value: string;\n  label: string;\n  icon?: React.ReactNode;\n  disabled?: boolean;\n}\n\ninterface SegmentedControlSingleProps {\n  options?: SegmentedControlOption[];\n  value?: string;\n  defaultValue?: string;\n  onChange?: (value: string) => void;\n  multiple?: false;\n  variant?: \"default\" | \"outline\" | \"filled\";\n  size?: \"sm\" | \"md\" | \"lg\";\n  disabled?: boolean;\n  className?: string;\n}\n\ninterface SegmentedControlMultipleProps {\n  options?: SegmentedControlOption[];\n  value?: string[];\n  defaultValue?: string[];\n  onChange?: (value: string[]) => void;\n  multiple: true;\n  variant?: \"default\" | \"outline\" | \"filled\";\n  size?: \"sm\" | \"md\" | \"lg\";\n  disabled?: boolean;\n  className?: string;\n}\n\nexport type SegmentedControlProps =\n  | SegmentedControlSingleProps\n  | SegmentedControlMultipleProps;\n\nconst sizeClasses = {\n  sm: \"h-[var(--space-8)] px-[var(--space-3)] leading-[1.5]\",\n  md: \"h-[calc(var(--space-8)+var(--space-2))] px-[var(--space-4)] leading-[1.5]\",\n  lg: \"h-[calc(var(--space-8)+var(--space-4))] px-[var(--space-6)] leading-[1.5]\",\n};\n\nconst variantClasses = {\n  default: {\n    container: \"bg-[color:var(--color-surface-1)] !p-0 ring-1 ring-inset ring-[color:var(--color-border-base)] gap-[var(--space-0)]\",\n    item: {\n      base: \"text-[color:var(--color-fg-base)]\",\n      active:\n        \"bg-[color:var(--color-brand-primary)] text-white shadow-xs\",\n    },\n  },\n  outline: {\n    container: \"ring-1 ring-inset ring-[color:var(--color-border-base)] !p-0 gap-[var(--space-0)]\",\n    item: {\n      base: \"text-[color:var(--color-fg-base)]\",\n      active:\n        \"bg-[color:var(--color-brand-primary)] text-white ring-1 ring-inset ring-[color:var(--color-brand-primary)]\",\n    },\n  },\n  filled: {\n    container: \"bg-[color:var(--color-surface-1)] !p-0 ring-1 ring-inset ring-[color:var(--color-border-base)] gap-[var(--space-0)]\",\n    item: {\n      base: \"text-[color:var(--color-fg-muted)]\",\n      active:\n        \"bg-[color:var(--color-brand-primary)] text-white\",\n    },\n  },\n};\n\nexport const SegmentedControl = React.memo(\n  React.forwardRef<\n    HTMLDivElement,\n    SegmentedControlProps\n  >(function SegmentedControl(props, ref) {\n  const {\n    options,\n    value,\n    defaultValue,\n    onChange,\n    multiple = false,\n    variant = \"default\",\n    size = \"md\",\n    disabled = false,\n    className,\n  } = props;\n\n  // Ensure options is always an array\n  const safeOptions = React.useMemo(() => {\n    if (!options || !Array.isArray(options)) {\n      return [];\n    }\n    return options;\n  }, [options]);\n\n  const handleValueChange = React.useCallback(\n    (newValue: string | string[]) => {\n      if (onChange) {\n        onChange(newValue as any);\n      }\n    },\n    [onChange]\n  );\n\n  const variantStyle = variantClasses[variant];\n\n  if (multiple) {\n    return (\n      <ToggleGroupPrimitive.Root\n        ref={ref}\n        type=\"multiple\"\n        value={value as string[]}\n        defaultValue={defaultValue as string[]}\n        onValueChange={handleValueChange as (value: string[]) => void}\n        disabled={disabled}\n        className={clsx(\n          \"flex items-center rounded-[var(--radius-sm)]\",\n          variantStyle.container,\n          className\n        )}\n        style={{ padding: 0 }}\n      >\n        {safeOptions.map((option) => (\n          <ToggleGroupPrimitive.Item\n            key={option.value}\n            value={option.value}\n            disabled={disabled || option.disabled}\n            className={clsx(\n              \"inline-flex items-center justify-center gap-[var(--space-2)] rounded-[var(--radius-sm)] font-semibold flex-1\",\n              \"transition-all duration-[var(--motion-duration-base)]\",\n              \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand focus-visible:ring-offset-2\",\n              \"disabled:pointer-events-none disabled:opacity-50\",\n              sizeClasses[size],\n              variantStyle.item.base,\n              variant === \"default\" &&\n                \"data-[state=on]:bg-[color:var(--color-brand-primary)] data-[state=on]:text-white data-[state=on]:shadow-xs\",\n              variant === \"outline\" &&\n                \"data-[state=on]:bg-[color:var(--color-brand-primary)] data-[state=on]:text-white data-[state=on]:ring-1 data-[state=on]:ring-inset data-[state=on]:ring-[color:var(--color-brand-primary)]\",\n              variant === \"filled\" &&\n                \"data-[state=on]:bg-[color:var(--color-brand-primary)] data-[state=on]:text-white\"\n            )}\n            style={{\n              fontSize: size === \"sm\" ? \"12px\" : size === \"md\" ? \"var(--typography-size-sm)\" : \"var(--typography-size-md)\"\n            }}\n            aria-label={option.label || option.value}\n          >\n            {option.icon && (\n              <span className=\"flex-shrink-0\" aria-hidden=\"true\">\n                {option.icon}\n              </span>\n            )}\n            {option.label && <span>{option.label}</span>}\n          </ToggleGroupPrimitive.Item>\n        ))}\n      </ToggleGroupPrimitive.Root>\n    );\n  }\n\n  return (\n    <ToggleGroupPrimitive.Root\n      ref={ref}\n      type=\"single\"\n      value={value as string}\n      defaultValue={defaultValue as string}\n      onValueChange={handleValueChange as (value: string) => void}\n      disabled={disabled}\n      className={clsx(\n        \"flex items-center rounded-[var(--radius-sm)]\",\n        variantStyle.container,\n        className\n      )}\n      style={{ padding: 0 }}\n    >\n      {safeOptions.map((option) => (\n          <ToggleGroupPrimitive.Item\n            key={option.value}\n            value={option.value}\n            disabled={disabled || option.disabled}\n            className={clsx(\n              \"inline-flex items-center justify-center gap-[var(--space-2)] rounded-[var(--radius-sm)] font-semibold flex-1\",\n              \"transition-all duration-[var(--motion-duration-base)]\",\n              \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand focus-visible:ring-offset-2\",\n              \"disabled:pointer-events-none disabled:opacity-50\",\n              sizeClasses[size],\n              variantStyle.item.base,\n              variant === \"default\" &&\n                \"data-[state=on]:bg-[color:var(--color-brand-primary)] data-[state=on]:text-white data-[state=on]:shadow-xs\",\n              variant === \"outline\" &&\n                \"data-[state=on]:bg-[color:var(--color-brand-primary)] data-[state=on]:text-white data-[state=on]:ring-1 data-[state=on]:ring-inset data-[state=on]:ring-[color:var(--color-brand-primary)]\",\n              variant === \"filled\" &&\n                \"data-[state=on]:bg-[color:var(--color-brand-primary)] data-[state=on]:text-white\"\n            )}\n            style={{\n              fontSize: size === \"sm\" ? \"12px\" : size === \"md\" ? \"var(--typography-size-sm)\" : \"var(--typography-size-md)\"\n            }}\n            aria-label={option.label || option.value}\n          >\n          {option.icon && (\n            <span className=\"flex-shrink-0\" aria-hidden=\"true\">\n              {option.icon}\n            </span>\n          )}\n          {option.label && <span>{option.label}</span>}\n        </ToggleGroupPrimitive.Item>\n      ))}\n    </ToggleGroupPrimitive.Root>\n  );\n})\n);\n\nSegmentedControl.displayName = \"SegmentedControl\";\n\n"
    }
  ]
}