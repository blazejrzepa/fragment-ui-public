{
  "name": "carousel",
  "type": "registry:component",
  "dependencies": [
    "react",
    "react-dom",
    "@fragment_ui/ui"
  ],
  "files": [
    {
      "path": "components/ui/Carousel.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport clsx from \"clsx\";\nimport { Button } from \"./button\";\n\nexport interface CarouselProps {\n  children: React.ReactNode;\n  autoPlay?: boolean;\n  autoPlayInterval?: number;\n  showArrows?: boolean;\n  showDots?: boolean;\n  className?: string;\n  onSlideChange?: (index: number) => void;\n}\n\nexport function Carousel({\n  children,\n  autoPlay = false,\n  autoPlayInterval = 3000,\n  showArrows = true,\n  showDots = true,\n  className,\n  onSlideChange,\n}: CarouselProps) {\n  const [currentIndex, setCurrentIndex] = React.useState(0);\n  const [isPaused, setIsPaused] = React.useState(false);\n  const containerRef = React.useRef<HTMLDivElement>(null);\n  const slides = React.Children.toArray(children);\n  const totalSlides = slides.length;\n\n  // Auto-play functionality\n  React.useEffect(() => {\n    if (!autoPlay || isPaused || totalSlides <= 1) return;\n\n    const interval = setInterval(() => {\n      setCurrentIndex((prev) => (prev + 1) % totalSlides);\n    }, autoPlayInterval);\n\n    return () => clearInterval(interval);\n  }, [autoPlay, autoPlayInterval, isPaused, totalSlides]);\n\n  // Handle slide change callback\n  React.useEffect(() => {\n    if (onSlideChange) {\n      onSlideChange(currentIndex);\n    }\n  }, [currentIndex, onSlideChange]);\n\n  // Keyboard navigation\n  React.useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === \"ArrowLeft\") {\n        goToPrevious();\n      } else if (e.key === \"ArrowRight\") {\n        goToNext();\n      }\n    };\n\n    if (containerRef.current) {\n      containerRef.current.addEventListener(\"keydown\", handleKeyDown);\n      return () => {\n        if (containerRef.current) {\n          containerRef.current.removeEventListener(\"keydown\", handleKeyDown);\n        }\n      };\n    }\n  }, [currentIndex, totalSlides]);\n\n  // Touch/swipe support\n  const touchStartX = React.useRef<number | null>(null);\n  const touchEndX = React.useRef<number | null>(null);\n\n  const handleTouchStart = (e: React.TouchEvent) => {\n    touchStartX.current = e.touches[0].clientX;\n  };\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    touchEndX.current = e.touches[0].clientX;\n  };\n\n  const handleTouchEnd = () => {\n    if (!touchStartX.current || !touchEndX.current) return;\n\n    const distance = touchStartX.current - touchEndX.current;\n    const minSwipeDistance = 50;\n\n    if (distance > minSwipeDistance) {\n      goToNext();\n    } else if (distance < -minSwipeDistance) {\n      goToPrevious();\n    }\n\n    touchStartX.current = null;\n    touchEndX.current = null;\n  };\n\n  const goToSlide = (index: number) => {\n    if (index >= 0 && index < totalSlides) {\n      setCurrentIndex(index);\n    }\n  };\n\n  const goToPrevious = () => {\n    setCurrentIndex((prev) => (prev - 1 + totalSlides) % totalSlides);\n  };\n\n  const goToNext = () => {\n    setCurrentIndex((prev) => (prev + 1) % totalSlides);\n  };\n\n  const handleMouseEnter = () => {\n    if (autoPlay) {\n      setIsPaused(true);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    if (autoPlay) {\n      setIsPaused(false);\n    }\n  };\n\n  if (totalSlides === 0) {\n    return null;\n  }\n\n  return (\n    <div\n      ref={containerRef}\n      className={clsx(\"relative w-full\", className)}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n      onTouchStart={handleTouchStart}\n      onTouchMove={handleTouchMove}\n      onTouchEnd={handleTouchEnd}\n      tabIndex={0}\n      role=\"region\"\n      aria-label=\"Carousel\"\n    >\n      {/* Slides container */}\n      <div className=\"relative overflow-hidden rounded-lg\">\n        <div\n          className=\"flex transition-transform duration-500 ease-in-out\"\n          style={{\n            transform: `translateX(-${currentIndex * 100}%)`,\n          }}\n        >\n          {slides.map((slide, index) => (\n            <div\n              key={index}\n              className=\"min-w-full flex-shrink-0\"\n              role=\"group\"\n              aria-roledescription=\"slide\"\n              aria-label={`Slide ${index + 1} of ${totalSlides}`}\n            >\n              {slide}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Navigation arrows */}\n      {showArrows && totalSlides > 1 && (\n        <>\n          <button\n            type=\"button\"\n            onClick={goToPrevious}\n            className=\"absolute left-2 top-1/2 -translate-y-1/2 z-10 rounded-full bg-[color:var(--color-surface-1)]/80 hover:bg-[color:var(--color-surface-1)] border border-[color:var(--color-border-base)] p-2 shadow-lg transition-colors focus:outline-none focus:ring-2 focus:ring-brand\"\n            aria-label=\"Previous slide\"\n          >\n            <svg\n              className=\"h-5 w-5 text-[color:var(--color-fg-base)]\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M15 19l-7-7 7-7\"\n              />\n            </svg>\n          </button>\n          <button\n            type=\"button\"\n            onClick={goToNext}\n            className=\"absolute right-2 top-1/2 -translate-y-1/2 z-10 rounded-full bg-[color:var(--color-surface-1)]/80 hover:bg-[color:var(--color-surface-1)] border border-[color:var(--color-border-base)] p-2 shadow-lg transition-colors focus:outline-none focus:ring-2 focus:ring-brand\"\n            aria-label=\"Next slide\"\n          >\n            <svg\n              className=\"h-5 w-5 text-[color:var(--color-fg-base)]\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M9 5l7 7-7 7\"\n              />\n            </svg>\n          </button>\n        </>\n      )}\n\n      {/* Dots pagination */}\n      {showDots && totalSlides > 1 && (\n        <div\n          className=\"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 flex gap-2\"\n          role=\"tablist\"\n          aria-label=\"Slide indicators\"\n        >\n          {slides.map((_, index) => (\n            <button\n              key={index}\n              type=\"button\"\n              onClick={() => goToSlide(index)}\n              className={clsx(\n                \"h-2 w-2 rounded-full transition-all\",\n                index === currentIndex\n                  ? \"bg-[color:var(--color-brand-primary)] w-8\"\n                  : \"bg-[color:var(--color-fg-muted)]/50 hover:bg-[color:var(--color-fg-muted)]\"\n              )}\n              role=\"tab\"\n              aria-selected={index === currentIndex}\n              aria-label={`Go to slide ${index + 1}`}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n"
    }
  ]
}