{
  "name": "formfield",
  "type": "registry:component",
  "dependencies": [
    "react",
    "react-dom",
    "@fragment_ui/ui"
  ],
  "files": [
    {
      "path": "components/ui/FormField.tsx",
      "content": "import * as React from \"react\";\nimport clsx from \"clsx\";\nimport { AlertCircle } from \"lucide-react\";\nimport { Input } from \"./input\";\nimport { Textarea } from \"./textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"./select\";\nimport { RadioGroup, Radio } from \"./radio\";\n\nexport interface FormFieldProps {\n  label?: string;\n  error?: string | boolean;\n  helperText?: string;\n  required?: boolean;\n  children: React.ReactNode;\n  className?: string;\n  showErrorIcon?: boolean;\n}\n\nexport const FormField = React.forwardRef<HTMLDivElement, FormFieldProps>(\n  function FormField({ label, error, helperText, required, children, className, showErrorIcon = true }, ref) {\n    const id = React.useId();\n    const hasError = Boolean(error);\n    const errorMessage = typeof error === \"string\" ? error : undefined;\n\n    return (\n      <div ref={ref} className={clsx(\"space-y-2\", className)}>\n        {label && (\n          <label\n            htmlFor={id}\n            className=\"text-sm font-medium text-[color:var(--color-fg-base)]\"\n          >\n            {label}\n            {required && <span className=\"ml-1 text-[color:var(--color-status-error-base)]\">*</span>}\n          </label>\n        )}\n        <div>\n          {React.isValidElement(children) ? (\n            // Special handling for Select component - id should go to SelectTrigger, not Select.Root\n            // Check if children is Select by checking if it has SelectTrigger as a child\n            React.Children.toArray(children.props.children).some(\n              (child: any) => React.isValidElement(child) && child.type === SelectTrigger\n            ) ? (\n              React.cloneElement(children as React.ReactElement, {\n                children: React.Children.map(children.props.children, (child: any) => {\n                  if (React.isValidElement(child) && child.type === SelectTrigger) {\n                    return React.cloneElement(child as React.ReactElement<any>, {\n                      id,\n                      error: hasError,\n                      \"aria-invalid\": hasError ? \"true\" : undefined,\n                      \"aria-describedby\": (hasError || helperText) ? `${id}-description` : undefined,\n                    });\n                  }\n                  return child;\n                }),\n              })\n            ) : (\n              React.cloneElement(children as React.ReactElement, {\n                id,\n                error: hasError,\n                \"aria-invalid\": hasError ? \"true\" : undefined,\n                \"aria-describedby\": (hasError || helperText) ? `${id}-description` : undefined,\n              })\n            )\n          ) : (\n            children\n          )}\n        </div>\n        {(hasError || helperText) && (\n          <div\n            id={`${id}-description`}\n            className={clsx(\n              \"flex items-start gap-1.5 text-xs\",\n              hasError\n                ? \"text-[color:var(--color-status-error-fg)]\"\n                : \"text-[color:var(--color-fg-muted)]\"\n            )}\n            role={hasError ? \"alert\" : undefined}\n          >\n            {hasError && showErrorIcon && (\n              <AlertCircle className=\"h-3.5 w-3.5 mt-0.5 flex-shrink-0\" aria-hidden=\"true\" />\n            )}\n            <span>{errorMessage || helperText}</span>\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nexport interface FormFieldInputProps extends Omit<React.ComponentProps<typeof Input>, \"error\"> {\n  label?: string;\n  error?: string | boolean;\n  helperText?: string;\n  required?: boolean;\n}\n\nexport const FormFieldInput = React.forwardRef<HTMLInputElement, FormFieldInputProps>(\n  function FormFieldInput({ label, error, helperText, required, className, ...props }, ref) {\n    return (\n      <FormField label={label} error={error} helperText={helperText} required={required}>\n        <Input\n          ref={ref}\n          error={Boolean(error)}\n          className={className}\n          {...props}\n        />\n      </FormField>\n    );\n  }\n);\n\nexport interface FormFieldTextareaProps extends Omit<React.ComponentProps<typeof Textarea>, \"error\"> {\n  label?: string;\n  error?: string | boolean;\n  helperText?: string;\n  required?: boolean;\n}\n\nexport const FormFieldTextarea = React.forwardRef<HTMLTextAreaElement, FormFieldTextareaProps>(\n  function FormFieldTextarea({ label, error, helperText, required, className, ...props }, ref) {\n    return (\n      <FormField label={label} error={error} helperText={helperText} required={required}>\n        <Textarea\n          ref={ref}\n          error={Boolean(error)}\n          className={className}\n          {...props}\n        />\n      </FormField>\n    );\n  }\n);\n\n"
    }
  ]
}