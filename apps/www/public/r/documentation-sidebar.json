{
  "name": "documentation-sidebar",
  "type": "block",
  "registryDependencies": ["sheet"],
  "files": [
    {
      "path": "components/documentation-sidebar.tsx",
      "content": "import * as React from \"react\";\nimport clsx from \"clsx\";\n\nexport interface NavigationItem {\n  title: string;\n  href: string;\n  icon?: React.ReactNode;\n  badge?: string;\n  items?: NavigationItem[];\n}\n\nexport interface NavigationSection {\n  title: string;\n  items: NavigationItem[];\n}\n\nexport interface DocumentationSidebarProps {\n  sections: NavigationSection[];\n  currentPath?: string;\n  scrollDetection?: boolean;\n  wheelHandling?: boolean;\n  mobileBreakpoint?: number;\n  header?: React.ReactNode;\n  footer?: React.ReactNode;\n  className?: string;\n  LinkComponent?: React.ComponentType<{\n    href: string;\n    className?: string;\n    children: React.ReactNode;\n  }>;\n}\n\nexport function DocumentationSidebar({\n  sections,\n  currentPath,\n  scrollDetection = true,\n  wheelHandling = true,\n  mobileBreakpoint = 1024,\n  header,\n  footer,\n  className,\n  LinkComponent = ({ href, className, children }) => (\n    <a href={href} className={className}>\n      {children}\n    </a>\n  ),\n}: DocumentationSidebarProps) {\n  const [isMobile, setIsMobile] = React.useState(false);\n  const [isMainAtBottom, setIsMainAtBottom] = React.useState(false);\n  const navRef = React.useRef<HTMLElement>(null);\n\n  React.useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < mobileBreakpoint);\n    };\n    checkMobile();\n    window.addEventListener(\"resize\", checkMobile);\n    return () => window.removeEventListener(\"resize\", checkMobile);\n  }, [mobileBreakpoint]);\n\n  React.useEffect(() => {\n    if (!scrollDetection) return;\n    const handleScroll = () => {\n      const threshold = 10;\n      const scrollTop = window.scrollY || document.documentElement.scrollTop;\n      const windowHeight = window.innerHeight;\n      const documentHeight = document.documentElement.scrollHeight;\n      const isAtBottom = scrollTop + windowHeight >= documentHeight - threshold;\n      setIsMainAtBottom(isAtBottom);\n    };\n    handleScroll();\n    window.addEventListener(\"scroll\", handleScroll, { passive: true });\n    window.addEventListener(\"resize\", handleScroll, { passive: true });\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n      window.removeEventListener(\"resize\", handleScroll);\n    };\n  }, [scrollDetection, currentPath]);\n\n  React.useEffect(() => {\n    if (!wheelHandling || !isMainAtBottom || !navRef.current) return;\n    const handleWheel = (e: WheelEvent) => {\n      const nav = navRef.current;\n      if (!nav) return;\n      const canScrollUp = nav.scrollTop > 0;\n      const canScrollDown = nav.scrollTop < nav.scrollHeight - nav.clientHeight;\n      if (isMainAtBottom && (canScrollUp || canScrollDown)) {\n        const scrollingDown = e.deltaY > 0;\n        const scrollingUp = e.deltaY < 0;\n        const navAtBottom = nav.scrollTop >= nav.scrollHeight - nav.clientHeight - 1;\n        const navAtTop = nav.scrollTop <= 1;\n        if ((scrollingDown && !navAtBottom) || (scrollingUp && !navAtTop)) {\n          e.preventDefault();\n          nav.scrollTop += e.deltaY;\n        }\n      }\n    };\n    window.addEventListener(\"wheel\", handleWheel, { passive: false });\n    return () => {\n      window.removeEventListener(\"wheel\", handleWheel);\n    };\n  }, [isMainAtBottom, wheelHandling]);\n\n  if (isMobile) return null;\n\n  const isActive = (href: string) => {\n    if (!currentPath) return false;\n    return currentPath === href || currentPath.startsWith(`${href}/`);\n  };\n\n  const renderNavItem = (item: NavigationItem, level: number = 0) => {\n    const active = isActive(item.href);\n    const hasChildren = item.items && item.items.length > 0;\n    return (\n      <div key={item.href} className={clsx(level > 0 && \"ml-6\")}>\n        <LinkComponent\n          href={item.href}\n          className={clsx(\n            \"flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors\",\n            active\n              ? \"bg-[color:var(--color-surface-2)] text-[color:var(--color-fg-base)] font-medium\"\n              : \"text-[color:var(--color-fg-muted)] hover:bg-[color:var(--color-surface-2)] hover:text-[color:var(--color-fg-base)]\"\n          )}\n        >\n          {item.icon && <span>{item.icon}</span>}\n          <span>{item.title}</span>\n          {item.badge && (\n            <span className=\"ml-auto text-xs px-1.5 py-0.5 rounded bg-[color:var(--color-surface-2)]\">\n              {item.badge}\n            </span>\n          )}\n        </LinkComponent>\n        {hasChildren && (\n          <div className=\"ml-6 space-y-1 mt-1\">\n            {item.items!.map((child) => renderNavItem(child, level + 1))}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <aside\n      ref={navRef}\n      className={clsx(\n        \"hidden lg:block w-64 flex-shrink-0 bg-[color:var(--background-primary)] border-r border-[color:var(--color-border-base)]\",\n        className\n      )}\n      style={{\n        height: \"calc(100vh - 60px)\",\n        overflowY: \"auto\",\n        scrollbarWidth: \"thin\",\n      }}\n    >\n      {header && (\n        <div className=\"p-4 border-b border-[color:var(--color-border-base)]\">\n          {header}\n        </div>\n      )}\n      <nav className=\"p-4 space-y-1\">\n        {sections.map((section) => (\n          <div key={section.title} className=\"mb-4\">\n            <div className=\"px-3 mb-2 text-xs font-semibold text-[color:var(--color-fg-muted)] uppercase tracking-wider\">\n              {section.title}\n            </div>\n            <div className=\"space-y-1\">\n              {section.items.map((item) => renderNavItem(item))}\n            </div>\n          </div>\n        ))}\n      </nav>\n      {footer && (\n        <div className=\"p-4 border-t border-[color:var(--color-border-base)] mt-auto\">\n          {footer}\n        </div>\n      )}\n    </aside>\n  );\n}\n",
      "type": "registry:block"
    }
  ],
  "meta": {
    "title": "DocumentationSidebar",
    "description": "Sidebar navigation component for documentation sites with scroll detection and wheel handling",
    "stability": "stable"
  }
}

