{
  "name": "calendar",
  "type": "registry:component",
  "dependencies": [
    "react",
    "react-dom",
    "@fragment_ui/ui"
  ],
  "files": [
    {
      "path": "components/ui/Calendar.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { DayPicker, DayPickerSingleProps, DayPickerRangeProps, DayPickerMultipleProps } from \"react-day-picker\";\nimport clsx from \"clsx\";\n\n// CSS is loaded globally via <link> tag, not as ESM import\n// See: https://react-day-picker.js.org/guides/styling\n\nexport interface CalendarProps extends Omit<DayPickerSingleProps, \"mode\" | \"selected\" | \"onSelect\"> {\n  mode?: \"single\";\n  value?: Date;\n  onChange?: (date: Date | undefined) => void;\n  className?: string;\n}\n\nexport interface CalendarRangeProps extends Omit<DayPickerRangeProps, \"mode\" | \"selected\" | \"onSelect\"> {\n  mode: \"range\";\n  value?: { from?: Date; to?: Date };\n  onChange?: (range: { from?: Date; to?: Date } | undefined) => void;\n  className?: string;\n}\n\nexport interface CalendarMultipleProps extends Omit<DayPickerMultipleProps, \"mode\" | \"selected\" | \"onSelect\"> {\n  mode: \"multiple\";\n  value?: Date[];\n  onChange?: (dates: Date[] | undefined) => void;\n  className?: string;\n}\n\ntype CalendarComponentProps = CalendarProps | CalendarRangeProps | CalendarMultipleProps;\n\nexport const Calendar = React.forwardRef<HTMLDivElement, CalendarComponentProps>(\n  function Calendar(\n    {\n      mode = \"single\",\n      value,\n      onChange,\n      className,\n      ...restProps\n    },\n    ref\n  ) {\n    const handleSelect = React.useCallback(\n      (selected: any) => {\n        if (!onChange) return;\n\n        if (mode === \"single\") {\n          (onChange as (date: Date | undefined) => void)(selected);\n        } else if (mode === \"range\") {\n          (onChange as (range: { from?: Date; to?: Date } | undefined) => void)(selected);\n        } else if (mode === \"multiple\") {\n          (onChange as (dates: Date[] | undefined) => void)(selected);\n        }\n      },\n      [mode, onChange]\n    );\n\n    const selected = React.useMemo(() => {\n      if (mode === \"single\") {\n        return (value as Date | undefined) || undefined;\n      } else if (mode === \"range\") {\n        const range = value as { from?: Date; to?: Date } | undefined;\n        return range || undefined;\n      } else if (mode === \"multiple\") {\n        return (value as Date[] | undefined) || undefined;\n      }\n      return undefined;\n    }, [mode, value]);\n\n    const sharedClassNames = {\n      months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n      month: \"space-y-4\",\n      caption: \"flex flex-col pt-1 relative items-center mb-4\",\n      caption_label: \"text-sm font-medium mb-2\",\n      nav: \"space-x-1 flex items-center justify-between w-full mb-2 order-first\",\n      nav_button: clsx(\n        \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\",\n        \"inline-flex items-center justify-center rounded-[var(--radius-sm)]\",\n        \"border border-[color:var(--color-border-base)]\",\n        \"text-[color:var(--color-fg-base)]\",\n        \"hover:bg-[color:var(--color-surface-2)]\",\n        \"focus:outline-none focus:ring-2 focus:ring-[color:var(--color-brand-primary)] focus:ring-offset-2\"\n      ),\n      nav_button_previous: \"relative\",\n      nav_button_next: \"relative\",\n      table: \"w-full border-collapse space-y-1\",\n      head_row: \"flex\",\n      head_cell: \"text-[color:var(--color-fg-muted)] rounded-[var(--radius-md)] w-9 font-normal text-[0.8rem]\",\n      row: \"flex w-full mt-2\",\n      cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-[var(--radius-md)] [&:has([aria-selected].day-outside)]:bg-[color:var(--color-surface-2)]/50 [&:has([aria-selected])]:bg-[color:var(--color-surface-2)] first:[&:has([aria-selected])]:rounded-l-[var(--radius-md)] last:[&:has([aria-selected])]:rounded-r-[var(--radius-md)] focus-within:relative focus-within:z-20\",\n      day: clsx(\n        \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\",\n        \"rounded-[var(--radius-md)]\",\n        \"text-[color:var(--color-fg-base)]\",\n        \"hover:bg-[color:var(--color-surface-2)]\",\n        \"focus:bg-[color:var(--color-surface-2)]\",\n        \"focus:outline-none\",\n        \"transition-colors\"\n      ),\n      day_range_end: \"day-range-end\",\n      day_selected: clsx(\n        \"bg-[color:var(--color-brand-primary)]\",\n        \"text-white\",\n        \"hover:bg-[color:var(--color-brand-primary)]\",\n        \"hover:text-white\",\n        \"focus:bg-[color:var(--color-brand-primary)]\",\n        \"focus:text-white\"\n      ),\n      day_today: clsx(\n        \"bg-[color:var(--color-surface-2)]\",\n        \"text-[color:var(--color-fg-base)]\",\n        \"font-semibold\"\n      ),\n      day_outside: \"day-outside text-[color:var(--color-fg-muted)] opacity-50 aria-selected:bg-[color:var(--color-surface-2)]/50 aria-selected:text-[color:var(--color-fg-muted)] aria-selected:opacity-30\",\n      day_disabled: \"text-[color:var(--color-fg-muted)] opacity-50 cursor-not-allowed\",\n      day_range_middle: clsx(\n        \"aria-selected:bg-[color:var(--color-surface-2)]\",\n        \"aria-selected:text-[color:var(--color-fg-base)]\"\n      ),\n      day_hidden: \"invisible\",\n    };\n\n    if (mode === \"single\") {\n      return (\n        <div ref={ref} className={clsx(\"p-3 rounded-lg border border-[color:var(--color-border-base)]\", className)}>\n          <DayPicker\n            mode=\"single\"\n            selected={selected as Date | undefined}\n            onSelect={handleSelect}\n            className=\"rdp\"\n            classNames={sharedClassNames}\n            {...(restProps as Omit<DayPickerSingleProps, \"mode\" | \"selected\" | \"onSelect\">)}\n          />\n        </div>\n      );\n    }\n\n    if (mode === \"range\") {\n      const rangeValue = selected as { from?: Date; to?: Date } | undefined;\n      const rangeSelected = rangeValue?.from && rangeValue?.to \n        ? { from: rangeValue.from, to: rangeValue.to }\n        : rangeValue?.from\n        ? { from: rangeValue.from, to: undefined }\n        : undefined;\n      \n      return (\n        <div ref={ref} className={clsx(\"p-3 rounded-lg border border-[color:var(--color-border-base)]\", className)}>\n          <DayPicker\n            mode=\"range\"\n            selected={rangeSelected}\n            onSelect={handleSelect}\n            className=\"rdp\"\n            classNames={sharedClassNames}\n            {...(restProps as Omit<DayPickerRangeProps, \"mode\" | \"selected\" | \"onSelect\">)}\n          />\n        </div>\n      );\n    }\n\n    // mode === \"multiple\"\n    return (\n      <div ref={ref} className={clsx(\"p-3 rounded-lg border border-[color:var(--color-border-base)]\", className)}>\n        <DayPicker\n          mode=\"multiple\"\n          selected={selected as Date[] | undefined}\n          onSelect={handleSelect}\n          className=\"rdp\"\n          classNames={sharedClassNames}\n          {...(restProps as Omit<DayPickerMultipleProps, \"mode\" | \"selected\" | \"onSelect\">)}\n        />\n      </div>\n    );\n  }\n);\n\n"
    }
  ]
}